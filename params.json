{"name":"Libvirtskillz","tagline":"Extra stuff for the libvirt ruby API","body":"Just a few patches to make the ruby libvirt API a bit less crap, with a view to\r\nallowing someone to write simple snapshot-based backup scripts.\r\n\r\nMakes the following possible:\r\n```\r\nLibvirt::open.domains.find_all{|a|a.active?}.each do |d|\r\n  # Libvirt::Connection#domains is a list of domain objects, instead of IDs\r\n  d.create_snapshot do |s|\r\n    # With a block, creates snapshot and deletes it when the block is done\r\n    puts s.backing_store # details about each disk and where it's stored\r\n\r\n    # Takes a backup of a snapshot of every disk of this domain\r\n    s.qemu_img_backup_commands(\"/var/backups/\").each do{|s|system s}\r\n    # Backups will be (e.g) /var/backups/webvm-hda.qcow\r\n  end\r\nend\r\n```\r\n\r\nYou can use fpm (from the Makefile) to create debian or CentOS packages with `make'. You need rubygems\r\nfor fpm, but not to use the final package.\r\n\r\nOn CentOS, you'll need the EPEL repo to install the final package, and rpmbuild to be able to create the RPMs with FPM.\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}